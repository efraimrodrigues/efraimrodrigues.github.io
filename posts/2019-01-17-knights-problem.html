<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content>
    <meta name="author" content>

    <title>Efraim Rodrigues</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet">
    <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/resume.min.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
      <a class="navbar-brand js-scroll-trigger" href="../index.html#page-top">
        <span class="d-block d-lg-none">Efraim Rodrigues</span>
        <span class="d-none d-lg-block">
          <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="../img/profile.jpg" alt>
        </span>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="../index.html#about" data-target="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="../index.html#experience" data-target="#experience">Experience</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="../index.html#education" data-target="#education">Education</a>
          </li>
          <li class="nav-item">
              
                <a class="nav-link js-scroll-trigger active" href="../posts.html" data-target="#blog">Blog</a>
              
          </li>
        </ul>
      </div>
    </nav>

    <div class="container-fluid p-0">
        <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="blog">
    <article>
    <header>
    <h1>A naïve approach to the knights problem</h1>
    <p>by <em>Efraim Rodrigues</em> on <strong>January 17, 2019</strong></p>
    <p>Tagged as: <a href="../tags/chess.html">chess</a>, <a href="../tags/data%20structure.html">data structure</a>, <a href="../tags/combinatorics.html">combinatorics</a>.</p>
    </header>

    <section>
    <p>Available on <a href="http://github.com/efraimrodrigues/knights-problem" target="_blank">GitHub<img width="2%" src="../files/GitHub-Mark-64px.png" /></a></p>
<h3 id="intro">Intro</h3>
<p>This problem was given to me in my sophomore year at college during one of my data structure courses with <a href="http://lia.ufc.br/~tiberius/" target="_blank">Prof. Tibérius Bonates</a>. At the time my programming skills weren’t that advanced and this was a very difficult problem for me, though I already had the knowledge to solve it. However, this was a great application of basic data structures as you will see.</p>
<p>Consider the traditional chess game played over a chessboard of eight columns and eight rows. Each piece can attack a set of positions around it. In particular, the knight attacks in L. This move consists of moving one line and then two columns or two lines and one column.</p>
<p>The idea here is to allow the chessboard to have forbidden cells. This is more fun since the solution will not be the same for different configurations of the chessboard. In order to do that, our code receives a configuration file. So given an initial configuration of the chessboard our approach is to try all the possible configurations such that we find the maximum number of knights that can be placed in the initial chessboard.</p>
<p>The first line indicates the size of the chessboard and the second line indicates the number of forbidden positions for knights to be placed. The following lines point to the positions which cannot have knights placed. The x axis is represented by letters as the y axis is represented by numbers.</p>
This is very basic example file:
<pre>
4
2
b4
d1
</pre>
<h3 id="the-solution">The solution</h3>
<p>In this approach we attempt to test all the possible configurations of knights in the chessboard and this is what makes our approach so naïve. One might wonder how it is possible to test all possible configurations. When we think of all possible solutions we think of the tree of combinations. In graph theory a tree is a graph such that it is connected and is acyclic. In this context, the root of our tree is the initial set up received from the configuration file.</p>
<p>To illustrate the algorithm let us consider a chessboard without any forbidden cells. To keep track of each node of our tree we use a <a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)" target="_blank">stack data structure</a>. As each cell can be placed with a knight or not this is where the algorithm branches. If we take the initial set up, the first chessboard configuration is push into the stack. So the algorithm will take the head chessboard and create two new chessboards. The first one is where the first cell is forbidden of taking any knights and the second is where the first cell does get a knight. The operation of placing a knight is done of course if it is not in the attack zone of any other knight. If a knight cannot be placed in the current cell, the next cells will be taken in consideration.</p>
<p>In terms of data structure, the code keeps the chessboard in a matrix of integers. There are four possible values a cell to receive:</p>
<ul>
<li>-1 means this cell is forbidden for taking any knight;</li>
<li>0 means the absence of knights in the cell;</li>
<li>1 means there is a knight in the cell;</li>
<li>2 means that this is the attack zone of a knight.</li>
</ul>
<p>This is the pseudocode for this solution:</p>
<pre>
chessboard = loadConfigurationFile();
chessboard.i = 0;
chessboard.j = 0;

stack.push(chessboard);

max = 0;
res = null;

while(!stack.empty()) {

    chessboard = stack.pop();

    if(chessboard.getSlots() == 0) {
        if(chessboard.getKnights() > max)
            max = chessboard.getKnights();
            res = chessboard;
    } else {
        chessboard_1 = chessboard;

        chessboard_1.addKnight();
        chessboard_1.j = (chessboard_1.j + 1)%chessboard.size();
        if(chessboard_1.j == 0)
            chessboard_1.i++;

        stack.push(chessboard_1);

        chessboard_2 = chessboard;
        
        chessboard_2.forbidKnight();

        stack.push(chessboard_2);
    }
}

return max, res;
</pre>
<p>You can find the implementation in <em>C++</em> on <a href="http://github.com/efraimrodrigues/knights-problem" target="_blank">GitHub<img width="2%" src="../files/GitHub-Mark-64px.png" /></a> and run it yourself.</p>
<h3 id="complexity-analysis">Complexity analysis</h3>
<p>As you can see for each chessboard (node) the algorithm branches into other two nodes. Taking <em>n</em> as the number of cells in the chessboard, we can see that as the following recursive function:</p>
<pre>
T(n) = T(n-1) + T(n-1) + k
T(n) = 2T(n-1) + k
</pre>
<p>Considering <em>T(0) = 1</em>, if we use direct substitution in <em>T(n) = 2T(n-1) + k</em> we will have:</p>
<pre>
T(n) = 2T(n-1) + k
     = 2(2T(n-2) + k) + k
     = 2(2(2T(n-3) + k) + k) + k
     = ...
     = 2<sup>n</sup>T(n-n) + k(2<sup>n</sup> - 1)
     = O(2<sup>n</sup>)
</pre>
<p>Thus, we can conclude this algorithm is O(2<sup>n</sup>) and runs in exponential time, which is not very good because <em>n</em> increases to the power of two according to the size of the chessboard. If we take the default chessboard with eight columns and eight rows, the algorithm has to go throw 2<sup>64</sup> nodes.</p>
<style>
pre {
    padding-left: 5%;
}
</style>
    </section>
    </article>
</section>

<div id="disqus_thread" style="padding: 5%;"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://erodrigues.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!--
<section>
<div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'efraimrodrigues',
                disqus_url = window.location.href.split('/').splice(0,3).join("/")+'/posts/2017-10-23-an-online-endtoend-encryption-chat-application-using-java-rmi.html';
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
-->
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="../js/resume.min.js"></script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-9247555539086665",
        enable_page_level_ads: true
      });
</script>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://erodrigues.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!--
<section>
<div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'efraimrodrigues',
                disqus_url = window.location.href.split('/').splice(0,3).join("/")+'/posts/2019-01-17-knights-problem.html';
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
-->
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="../js/resume.min.js"></script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-9247555539086665",
        enable_page_level_ads: true
      });
    </script>

  </body>

</html>
